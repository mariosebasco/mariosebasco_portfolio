---
layout: project
title: Haptic Feedback Machine
date: March 2017
imageMain: /mariosebasco.github.io/public/images/phantom_omni.jpg
---

<img src="/mariosebasco.github.io/public/images/hapkit.jpg" alt="Hapkit" style="width:800px;height:316px;">

## Overview

   As part of a quarter long project at Northwestern University, I set out to create a haptic feedback device capable of generating numerous virtual environments. The project incorporates PID control of a motor, an easily manufacturable design, and a computer interface in order to provide a user with visual and haptic feedback of: springs, walls, textures, and other possible one dimensional environments.

## Mechatronics

In order to provide the haptic feedback required, a permanent magnet brushed DC motor was used.
The electronics used to control the motor consisted of an Arduino UNO as the microcontroller, an H-Bridge (DRV8835), a current sense amplifier (MAX9918), and an optical encoder.

The controller consits of two PID loops. As can be seen in the figure, the inner loop controls the current of the motor. Since at stall the current is proportional to the torque the motor provides, robust current control is crucial in providing haptic feedback for mechanisms such as springs and walls which rely on force outputs. The outer loop controls the position. Using the encoder, this loop is what allows correct distance related feedback.

The culmination of these components form the heart of the project. From here a spring can be generated by applying current proportional to encoder counts. A virtual wall consists of a high force area at a certain distance. Virtual texture can be generated with the use of high and low force areas interweaved one after the other in sequence.

<img src="/mariosebasco.github.io/public/images/controlLoop.png" alt="control loop" style="width:800px;height:266px;">

## Haptics


## ROS Interface


## CAD and Fabrication